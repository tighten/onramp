# How to get started

Hello there, you are probably here because you want to help out. That is awesome, in this document we'll try to outline
how to get started and how to do common tasks e.g. keeping the fork up to date.

## Setup your own fork of the repository

Click the `fork` button at https://github.com/tightenco/onramp and wait for it to complete.
Once the fork is done, clone it to your computer with `git clone git@github.com:[username]/onramp.git`

To be able to maintain an up to date fork of the original repository, we need to setup an extra 'remote'.
We already have the 'origin' remote, which is your fork on the github servers. But we need the original repository.

Let's add it with the following command inside the cloned version of Onramp;

`git remote add upstream git@github.com:tightenco/onramp`

Fetch the upstream branches by running the following command; (the prune argument is to clean any stale branch git may think still exists)

`git fetch upstream --prune`

Now that is setup, run the following commands to install the dependencies.
- `composer install`
- `npm install`

## Setup the database, run the migrations and seeders

Check that the `.env` file exists, if not copy the `.env.example` to `.env`.

Laravel needs an unique application key, this can be generated by running the following command.

`php artisan key:generate`

When using MySQL than the `DB_` settings in the `.env` need to be filled.

If SQLite is used only the `DB_CONNECTION=sqlite` is needed, along with the database file.
This file can be created by running the following command `touch database/database.sqlite`.

Now that the database is set up, next is to run the migrations and seeders. To do that, run the following command.

`php artisan migrate:fresh --seed`

This command drops every table in the database and starts 'fresh' applying every migration and afterwards runs the seeder to fill the database with data.

# How to perform common tasks

## Keep your fork up to date

Using the git remote we set up earlier, we first need to fetch changes that were made upstream.

`git fetch upstream --prune`

Next, change to your local master branch.

`git checkout master`

And merge the changes that were made upstream into your local branch.

`git merge upstream/master --no-ff`

## Prepare your pull request

Before actually creating a pull request, you have the chance to clean up both your git commit messages and your code.
Remove debug statements, clean up commented code and refactor if needed.

With regards to commit messages, keep these descriptive. Explain what is being changed and why.

It is possible to rewrite, squash or merge your commit messages. This is done with `git rebase`.
_This is a powerful tool, but may need some practice before using it._

To start using rebase issue the following command, while inside your branch.

`git rebase -i origin/master`

This will launch you into an editor in which you can decide what to do with your commits.

_the following only applies if you have pushed your branch to your remote_

When rebase is done your commit id's will have been rewritten and you will see the following message.

  Your branch has diverged

Because your are the only one working on the branch, you can run the following command.
This will force the new commit into the remote, but only if there are no other changes.

`git push origin HEAD --force-with-lease`

## Creating a pull request

When you have your changes ready in your own branch on your fork, it's time to create a pull request.
Try to describe what kind of changes you have made and why you have made them.
This helps us in understanding why you are suggesting this change and what your reasoning behind it is.

# How to contribute to Onramp

## Do you have content you can add?

* You can add the content directly in `learn.{language}.php`

* You can add an issue referencing the content if it's not clear where it should go in the relevant `learn` document

## Do you want to code on the app itself?

* Open or comment on an issue before starting to code to ensure Matt (or someone else) isn't already working on it and that you fully understand the goals and scope

* Once ready to code, fork the repo, and PR your changes in, referencing the original issue number

## Do you have questions about the plans for Onramp?

* Ask any question about how to contribute to or use Onramp in the issues here

Thanks! :heart:

Matt
